<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JSON Viewer Test</title>
	<!-- <script
		src="https://cdn.jsdelivr.net/gh/kazMcLamore/simple-json-viewer@dev/json-viewer.js"
		type="module"></script> -->
	<script src="/json-viewer.js" type="module"></script>
			 <!-- <script src="/test-data.js"></script> -->
</head>
<body>

	<!-- create the json-viewer -->
	<json-viewer id="json-viewer" title="Function Result: "
		webviewer-name="json-viewer" query-script="sub: execute data api (fxp)"
		json-path="data[0].fieldData.text" open>
	</json-viewer>
	
	<script>

	// get id from url parameter
	const urlParams = new URLSearchParams(window.location.search);
	const uuid = urlParams.get('uuid');


	// configure query here:
	const query = {
		"action": "read",
		"layouts": "query: function log v1",
		"limit": 1,
		"query": [
			{
				__id: `==${uuid}`,
			}
		]
	}

	// set the query info
	const viewer = document.querySelector('json-viewer')
	viewer.query = query

</script>
</body>
</html>