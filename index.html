<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JSON Viewer Test</title>
	<!-- <script
		src="https://cdn.jsdelivr.net/gh/kazMcLamore/simple-json-viewer@main/json-viewer.js"
		type="module"></script> -->
		<script src="/json-viewer.js" type="module"></script>
		 <script src="/test-data.js"></script>
</head>
<body>

	<json-viewer id="json-viewer"></json-viewer>
		<script>
			const viewer = document.querySelector('json-viewer')
			function setJson (json) {
				// check if it's a string
				if (typeof json === 'string') {
					json = JSON.parse(json);
				} else if (typeof json !== 'object') {
					throw new Error('Invalid JSON type');
				}
				console.log('setting json', json);
				viewer.json = json;
			}

			if(testJson){
				setJson(testJson);
			}
		</script>
</body>
</html>