<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JSON Viewer Test</title>
	<!-- import the viewer component from our repo -->
	<script
		src="https://cdn.jsdelivr.net/gh/kazMcLamore/simple-json-viewer@main/json-viewer.js"
		type="module"></script>

		<style>
			/* to ensure that this doesn't flash on-screen */
			html {
				background-color: #F5F5F5;
			}
			
			json-data {
				display: none;
			}

		</style>

</head>
<body>

	<!-- create the json-viewer -->

	<json-viewer 
		title="Test Data: " webviewer-name="test-viewer"
		query-script="sub: execute data api (fxp)"
		json-path="data[0].fieldData" open>
		<json-data key="query">
			 {
				"action": "read",
				"layouts": "query: test data v1",
				"limit": 100,
				"query": [
					{
						"__id": "*"
					}
				]
			 }
		</json-data>
	</json-viewer>
	<fm-portal>
		<json-data key="query">
			<!-- json -->
			{
			"action": "read",
				"layouts": "query: test data v1",
				"limit": 1,
				"query": [
				{
						"__id": "{{resultUuid}}"
						}
						]
						}
		</json-data>
		<table>
			<thead>
				<tr>
					<th json-path="fieldData['__id']"></th>
				</tr>
			</thead>
		</table>

	</fm-portal>


</body>
</html>